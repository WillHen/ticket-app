<div class="mat-elevation-z8">
  <mat-table [dataSource]="tableData">

  	<ng-container *ngFor="let col of displayedColumns" [matColumnDef]="col">
	    <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ col }} 
	    	<input placeholder="Type to filter..."  [hidden]="dataType[col] === 'date'" class="filter-input" id={{col}} (keyup)="queryData($event, col)" />  
	    	<button 
	    		[hidden]="dataType[col] === 'date'"
	    		[ngClass]="{'is-null': dataMap.get(col) === '@isNull@' }" 
	    		(click)="queryByisNull(col, 'isNull')">
	    		Is blank
	    	</button>

	    <span [hidden]="dataType[col] !== 'date'">
			<input matInput [matDatepicker]="picker" placeholder="Choose a date" (dateChange)="queryDataDate(col, $event)" #filterDateInput>
			<button 
	    		[ngClass]="{'is-null': dataMap.get(col) === '@isNull@' }" 
	    		(click)="queryByisNull(col, 'isNull')">
	    		Is blank
	    	</button>
			<mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
			<mat-datepicker #picker></mat-datepicker>
	    </span>
	    </th>
	    <span *ngIf="dataType[col] !== 'date'">
	    	<td mat-cell *matCellDef="let element">{{ element[col] }} </td>
		</span>
		<span *ngIf="dataType[col] == 'date'">
	    	<td mat-cell *matCellDef="let element"> {{ element[col] | dateFormat | amDateFormat: 'YYYY-MM-DD HH:mm A' }} </td>
		</span>
	</ng-container>


    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </mat-table>

</div>